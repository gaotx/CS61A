---
layout: resource
tilte: lab 4
---
<body style="font-family: Georgia,serif;">
    <h1 id="title-main">Lab 4: Lists</h1>

    <p><i>Due at 11:59pm on 02/18/2015.</i></p>

<h2>Starter Files</h2>

<p>Download <a href="lab04.zip">lab04.zip</a>.
Inside the archive, you will find starter files for the questions in this lab,
  along with a copy of the <a href="../ok">OK</a> autograder.</p>

<h2>Submission</h2>

<p>By the end of this lab, you should have submitted the lab with
<code>python3 ok --submit</code>. You may submit more than once before the
deadline; only the final submission will be graded.</p>


<ul>
  <li>To receive credit for this lab, you must complete Questions 4, 5, 6,
  and 8 in <a href="lab04.py">lab04.py</a> and submit through OK.</li>
  <li>Questions 9, 10, 11, 12, and 13 are <em>extra practice</em>. They can be found in
  the <a href="lab04_extra.py">lab04_extra.py</a> file. It is recommended that you
  complete these problems on your own time.</li>
</ul>


    <h2 id="table-of-contents">Table of Contents</h2>
    <ul>
  <li><a href="#lists">Lists</a></li>
  <ul>
  <li><a href="#q1">Question 1: What would Python print? List indexing</a></li>
  <li><a href="#q2">Question 2: What would Python print? List slicing</a></li>
  <li><a href="#q3">Question 3: What would Python print? List operations</a></li>
  <li><a href="#q4">Question 4: Fill in the blanks</a></li>
  <li><a href="#q5">Question 5: Reverse (recursively)</a></li>
  <li><a href="#q6">Question 6: Merge</a></li>
</ul>

  <li><a href="#list-comprehensions">List Comprehensions</a></li>
  <ul>
  <li><a href="#q7">Question 7: What Would Python Print?</a></li>
  <li><a href="#q8">Question 8: Perfect squares</a></li>
</ul>

  <li><a href="#extra-questions">Extra Questions</a></li>
  <ul>
  <li><a href="#q9">Question 9: Reverse (iteratively)</a></li>
  <li><a href="#q10">Question 10: Mergesort</a></li>
  <li><a href="#q11">Question 11: Coordinates</a></li>
  <li><a href="#q12">Question 12: Deck of cards</a></li>
  <li><a href="#q13">Question 13: Adding matrices</a></li>
</ul>

</ul>


    


<h2 id="lists">Lists</h2>


<h3 class="question" id="q1">Question 1: What would Python print? List indexing</h3>

<p>Predict what Python will display when you type the following into the
interpreter. Then try it to check your answers.</p>


    <pre><code>&gt;&gt;&gt; x = [1, 2, 3]
&gt;&gt;&gt; x[0]
<div class="alt 9">______</div><div class="solution 9">1</div>
&gt;&gt;&gt; x[x[0]]
<div class="alt 9">______</div><div class="solution 9">2</div>
&gt;&gt;&gt; x[x[x[0]]]
<div class="alt 9">______</div><div class="solution 9">3</div>
&gt;&gt;&gt; x[3]
<div class="alt 9">______</div><div class="solution 9">IndexError</div>
&gt;&gt;&gt; x[-1]
<div class="alt 9">______</div><div class="solution 9">3</div>
&gt;&gt;&gt; x[-3]
<div class="alt 9">______</div><div class="solution 9">1</div></code></pre>

    <button id="9" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<h3 class="question" id="q2">Question 2: What would Python print? List slicing</h3>

<p>Predict what Python will display when you type the following into the
interpreter. Then try it to check your answers.</p>


    <pre><code>&gt;&gt;&gt; x = [1, 2, 3, 4]
&gt;&gt;&gt; x[1:3]
<div class="alt 10">______</div><div class="solution 10">[2, 3]</div>
&gt;&gt;&gt; x[:2]
<div class="alt 10">______</div><div class="solution 10">[1, 2]</div>
&gt;&gt;&gt; x[1:]
<div class="alt 10">______</div><div class="solution 10">[2, 3, 4]</div>
&gt;&gt;&gt; x[-2:3]
<div class="alt 10">______</div><div class="solution 10">[3]</div></code></pre>

    <button id="10" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<blockquote><p>As you may have noticed, Python has a convenient notation for
<em>slicing</em> to retrieve part of a list. Specifically, we can write
<code>[start:stop]</code> to slice a list with two integers.</p>

<ul>
  <li><code>start</code> denotes the index for the beginning of the slice</li>
  <li><code>stop</code> denotes the index for the end of the slice</li>
</ul>

<p>Using negative indices for <code>start</code> and <code>end</code> behaves in the same way
as indexing into negative indices. In addition, slicing a list
<em>creates a new</em> list, without modifying the original list.</p></blockquote>

<h3 class="question" id="q3">Question 3: What would Python print? List operations</h3>

<p>Predict what Python will display when you type the following into the
interpreter. Then try it to check your answers.</p>


    <pre><code>&gt;&gt;&gt; y = [1]
&gt;&gt;&gt; len(y)
<div class="alt 11">______</div><div class="solution 11">1</div>
&gt;&gt;&gt; 1 in y
<div class="alt 11">______</div><div class="solution 11">True</div>
&gt;&gt;&gt; y + [2, 3]
<div class="alt 11">______</div><div class="solution 11">[1, 2, 3]</div>
&gt;&gt;&gt; [0] + y
<div class="alt 11">______</div><div class="solution 11">[0, 1]</div>
&gt;&gt;&gt; y * 3
<div class="alt 11">______</div><div class="solution 11">[1, 1, 1]</div>
&gt;&gt;&gt; z = [[1, 2], [3, 4, 5]]
&gt;&gt;&gt; len(z)
<div class="alt 11">______</div><div class="solution 11">[2]</div></code></pre>

    <button id="11" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<h3 class="question" id="q4">Question 4: Fill in the blanks</h3>

<p>For each of the following, use element selection to get the
number 7 from the particular list in the doctest. Don't worry
about making this work for all lists.</p>


    <button id="0" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>def get_seven_a(x):
    """
    &gt;&gt;&gt; x = [1, 3, [5, 7], 9]
    &gt;&gt;&gt; get_seven_a(x)
    7
    """
<div class="alt 0">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 0">    return x[2][1]</div>
def get_seven_b(x):
    """
    &gt;&gt;&gt; x = [[7]]
    &gt;&gt;&gt; get_seven_b(x)
    7
    """
<div class="alt 0">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 0">    return x[0][0]</div>
def get_seven_c(x):
    """
    &gt;&gt;&gt; x = [1, [2, [3, [4, [5, [6, [7]]]]]]]
    &gt;&gt;&gt; get_seven_c(x)
    7
    """
<div class="alt 0">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 0">    return x[1][1][1][1][1][1][0]</div></code></pre>



<h3 class="question" id="q5">Question 5: Reverse (recursively)</h3>

<p>Write a function <code>reverse_recursive</code> that takes a list and returns a
new list that is the reverse of the original. Use recursion! You may
also use slicing notation.</p>


    <button id="1" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>def reverse_recursive(lst):
    """Returns the reverse of the given list.

    &gt;&gt;&gt; reverse_recursive([1, 2, 3, 4])
    [4, 3, 2, 1]
    """
<div class="alt 1">    "*** YOUR CODE HERE ***"
</div><div class="solution 1">    if not lst:
        return []
    return reverse_recursive(lst[1:]) + [lst[0]]</div></code></pre>



<h3 class="question" id="q6">Question 6: Merge</h3>

<p>Write a function <code>merge</code> that takes 2 <em>sorted</em> lists <code>lst1</code> and <code>lst2</code>,
and returns a new list that contains all the elements in the two lists
in sorted order.</p>


    <button id="2" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>def merge(lst1, lst2):
    """Merges two sorted lists recursively.

    &gt;&gt;&gt; merge([1, 3, 5], [2, 4, 6])
    [1, 2, 3, 4, 5, 6]
    &gt;&gt;&gt; merge([], [2, 4, 6])
    [2, 4, 6]
    &gt;&gt;&gt; merge([1, 2, 3], [])
    [1, 2, 3]
    &gt;&gt;&gt; merge([5, 7], [2, 4, 6])
    [2, 4, 5, 6, 7]
    """
<div class="alt 2">    "*** YOUR CODE HERE ***"
</div><div class="solution 2">    # recursive
    if not lst1 or not lst2:
        return lst1 + lst2
    elif lst1[0] &lt; lst2[0]:
        return [lst1[0]] + merge(lst1[1:], lst2)
    else:
        return [lst2[0]] + merge(lst1, lst2[1:])

# Iterative solution 
def merge_iter(lst1, lst2):
    """Merges two sorted lists iteratively.

    &gt;&gt;&gt; merge_iter([1, 3, 5], [2, 4, 6])
    [1, 2, 3, 4, 5, 6]
    &gt;&gt;&gt; merge_iter([], [2, 4, 6])
    [2, 4, 6]
    &gt;&gt;&gt; merge_iter([1, 2, 3], [])
    [1, 2, 3]
    &gt;&gt;&gt; merge_iter([5, 7], [2, 4, 6])
    [2, 4, 5, 6, 7]
    """
    new = []
    while lst1 and lst2:
        if lst1[0] &lt; lst2[0]:
            new += [lst1[0]]
            lst1 = lst1[1:]
        else:
            new += [lst2[0]]
            lst2 = lst2[1:]
    if lst1:
        return new + lst1
    else:
        return new + lst2</div></code></pre>




<h2 id="list-comprehensions">List Comprehensions</h2>


<p>List comprehensions are a compact and powerful way of creating new lists
out of sequences. Let's work with them directly:</p>

<pre><code>&gt;&gt;&gt; [i**2 for i in [1, 2, 3, 4] if i%2 == 0]
[4, 16]</code></pre>

<p>is equivalent to</p>

<pre><code>&gt;&gt;&gt; lst = []
&gt;&gt;&gt; for i in [1, 2, 3, 4]:
...     if i % 2 == 0:
...         lst += [i**2]
&gt;&gt;&gt; lst
[4, 16]</code></pre>

<p>The general syntax for a list comprehension is</p>

<pre><code>[&lt;expression&gt; for &lt;element&gt; in &lt;sequence&gt; if &lt;conditional&gt;]</code></pre>

<p>The syntax is designed to read like English: "Compute the expression
for each element in the sequence if the conditional is true."</p>

<h3 class="question" id="q7">Question 7: What Would Python Print?</h3>

<p>What would Python print? Try to figure it out before
you type it into the interpreter!</p>


    <pre><code>&gt;&gt;&gt; [x*x for x in range(5)]
<div class="alt 12">______</div><div class="solution 12">[0, 1, 4, 9, 16]</div>
&gt;&gt;&gt; [n for n in range(10) if n % 2 == 0]
<div class="alt 12">______</div><div class="solution 12">[0, 2, 4, 6, 8]</div>
&gt;&gt;&gt; ones = [1 for i in ["hi", "bye", "you"]]
&gt;&gt;&gt; ones + [str(i) for i in [6, 3, 8, 4]]
<div class="alt 12">______</div><div class="solution 12">[1, 1, 1, '6', '3', '8', 4']</div>
&gt;&gt;&gt; [i+5 for i in [n for n in range(1,4)]]
<div class="alt 12">______</div><div class="solution 12">[6, 7, 8]</div></code></pre>

    <button id="12" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<h3 class="question" id="q8">Question 8: Perfect squares</h3>

<p>Implement the function <code>squares</code>, which takes in a list of positive
integers, and returns a new list which contains only elements of the original
list that are perfect squares. Use a list comprehension.</p>


    <button id="3" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>from math import sqrt

def is_square(n):
    return float(sqrt(n)) == int(sqrt(n))

def squares(seq):
    """Returns a new list containing elements of the original list that are
    perfect squares.

    &gt;&gt;&gt; seq = [49, 8, 2, 1, 102]
    &gt;&gt;&gt; squares(seq)
    [49, 1]
    &gt;&gt;&gt; seq = [500, 30]
    &gt;&gt;&gt; squares(seq)
    []
    """
<div class="alt 3">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 3">    return [n for n in seq if is_square(n)]</div></code></pre>




<h2 id="extra-questions">Extra Questions</h2>


<p>Questions in this section are not required for submission. However,
we encourage you to try them out on your own time for extra practice.</p>

<h3 class="question" id="q9">Question 9: Reverse (iteratively)</h3>

<p>Write a function <code>reverse_iter</code> that takes a list and returns a new
list that is the reverse of the original. Use iteration! You may also
use slicing notation.</p>


    <button id="4" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>def reverse_iter(lst):
    """Returns the reverse of the given list.

    &gt;&gt;&gt; reverse_iter([1, 2, 3, 4])
    [4, 3, 2, 1]
    """
<div class="alt 4">    "*** YOUR CODE HERE ***"
</div><div class="solution 4">    new, i = [], 0
    while i &lt; len(lst):
        new = [lst[i]] + new
        i += 1
    return new</div></code></pre>



<h3 class="question" id="q10">Question 10: Mergesort</h3>

<p><a href="http://en.wikipedia.org/wiki/Merge_sort">Mergesort</a> is a type of
sorting algorithm. It follows a naturally recursive procedure:</p>

<ul>
  <li>Break the input list into equally-sized halves</li>
  <li>Recursively sort both halves</li>
  <li>Merge the sorted halves.</li>
</ul>

<p>Using your <code>merge</code> function from the previous question, implement
<code>mergesort</code>.</p>

<p><em>Challenge</em>: Implement mergesort itself iteratively, without using
recursion.</p>


    <button id="5" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>def mergesort(seq):
    """Mergesort algorithm.

    &gt;&gt;&gt; mergesort([4, 2, 5, 2, 1])
    [1, 2, 2, 4, 5]
    &gt;&gt;&gt; mergesort([])     # sorting an empty list
    []
    &gt;&gt;&gt; mergesort([1])   # sorting a one-element list
    [1]
    """
<div class="alt 5">    "*** YOUR CODE HERE ***"
</div><div class="solution 5">    # recursive solution
    if len(seq) &lt; 2:
        return seq
    mid = len(seq) // 2
    return merge(mergesort(seq[:mid]), mergesort(seq[mid:]))

# Iterative solution
def mergesort_iter(seq):
    """Mergesort algorithm.

    &gt;&gt;&gt; mergesort_iter([4, 2, 5, 2, 1])
    [1, 2, 2, 4, 5]
    &gt;&gt;&gt; mergesort_iter([])     # sorting an empty list
    []
    &gt;&gt;&gt; mergesort_iter([1])   # sorting a one-element list
    [1]
    """
    if not seq:
        return []
    queue = [[elem] for elem in seq]
    while len(queue) &gt; 1:
        first, second = queue[0], queue[1]
        queue = queue[2:] + [merge(first, second)]
    return queue[0]</div></code></pre>



<h3 class="question" id="q11">Question 11: Coordinates</h3>

<p>Implement a function <code>coords</code>, which takes a function, a sequence, and
an upper and lower bound on output of the function. <code>coords</code> then
returns a list of x, y coordinate pairs (lists) such that:</p>

<ul>
  <li>Each pair contains <code>[x, fn(x)]</code></li>
  <li>The x coordinates are the elements in the sequence</li>
  <li>Only pairs whose y coordinate is within the upper and lower bounds
  are included</li>
</ul>

<p>See the doctests for examples.</p>

<p>One other thing: your answer can only be <em>one line long</em>. You should
make use of list comprehensions!</p>


    <button id="6" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>def coords(fn, seq, lower, upper):
    """
    &gt;&gt;&gt; seq = [-4, -2, 0, 1, 3]
    &gt;&gt;&gt; fn = lambda x: x**2
    &gt;&gt;&gt; coords(fn, seq, 1, 9)
    [[-2, 4], [1, 1], [3, 9]]
    """ 
<div class="alt 6">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 6">    return [[x, fn(x)] for x in seq if lower &lt;= fn(x) &lt;= upper]</div></code></pre>



<h3 class="question" id="q12">Question 12: Deck of cards</h3>

<p>Write a list comprehension that will create a deck of cards, given a
list of <code>suits</code> and a list of <code>numbers</code>. Each
element in the list will be a card, which is represented by a 2-element list
of the form <code>[suit, number]</code>.</p>


    <button id="7" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>def deck(suits, numbers):
    """Creates a deck of cards (a list of 2-element lists) with the given
    suits and numbers. Each element in the returned list should be of the form
    [suit, number].

    &gt;&gt;&gt; deck(['S', 'C'], [1, 2, 3])
    [['S', 1], ['S', 2], ['S', 3], ['C', 1], ['C', 2], ['C', 3]]
    &gt;&gt;&gt; deck(['S', 'C'], [3, 2, 1])
    [['S', 3], ['S', 2], ['S', 1], ['C', 3], ['C', 2], ['C', 1]]
    &gt;&gt;&gt; deck([], [3, 2, 1])
    []
    &gt;&gt;&gt; deck(['S', 'C'], [])
    []
    """
<div class="alt 7">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 7">    return [[suit, number] for suit in suits
                           for number in numbers]</div></code></pre>



<h3 class="question" id="q13">Question 13: Adding matrices</h3>

<p>To practice, write a function that adds two matrices together using
list comprehensions. The function should take in two 2D lists of
the same dimensions. Try to implement this in one line!</p>


    <button id="8" class="toggleButton" style="display: inline-block;">
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<pre><code>def add_matrices(x, y):
    """
    &gt;&gt;&gt; matrix1 = [[1, 3],
    ...            [2, 0]]
    &gt;&gt;&gt; matrix2 = [[-3, 0],
    ...            [1, 2]]
    &gt;&gt;&gt; add_matrices(matrix1, matrix2)
    [[-2, 3], [3, 2]]
    """
<div class="alt 8">    "*** YOUR CODE HERE ***"
    return ______
</div><div class="solution 8">    return [[x[i][j] + y[i][j] for j in range(len(x[0]))]
                               for i in range(len(x))]</div></code></pre>




  

  <script src="//code.jquery.com/jquery-latest.js"></script>
<script>
  $(function() {
    if (new Date("02/19/2015") < new Date()) {
      $('.toggleButton').css('display', 'inline-block');
      $('.toggleButton').click(function() {
        var solution_id = $(this).attr('id');
        $('div.' + solution_id).slideToggle(600);
      });
    }
    // Always display these toggle buttons
    $('.toggleButtonShow').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
  });
</script>

</body>